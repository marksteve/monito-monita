!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var r={},t={},n={},i={}.hasOwnProperty,s=/^\.\.?(\/|$)/,u=function(e,r){for(var t,n=[],i=(s.test(r)?e+"/"+r:r).split("/"),u=0,o=i.length;u<o;u++)t=i[u],".."===t?n.pop():"."!==t&&""!==t&&n.push(t);return n.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},a=function(r){return function(t){var n=u(o(r),t);return e.require(n,r)}},l=function(e,r){var n=null;n=v&&v.createHot(e);var i={id:e,exports:{},hot:n};return t[e]=i,r(i.exports,a(e),i),i.exports},c=function(e){return n[e]?c(n[e]):e},p=function(e,r){return c(u(o(e),r))},d=function(e,n){null==n&&(n="/");var s=c(e);if(i.call(t,s))return t[s].exports;if(i.call(r,s))return l(s,r[s]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};d.alias=function(e,r){n[r]=e};var h=/\.[^.\/]+$/,f=/\/index(\.[^\/]+)?$/,m=function(e){if(h.test(e)){var r=e.replace(h,"");i.call(n,r)&&n[r].replace(h,"")!==r+"/index"||(n[r]=e)}if(f.test(e)){var t=e.replace(f,"");i.call(n,t)||(n[t]=e)}};d.register=d.define=function(e,n){if("object"==typeof e)for(var s in e)i.call(e,s)&&d.register(s,e[s]);else r[e]=n,delete t[e],m(e)},d.list=function(){var e=[];for(var t in r)i.call(r,t)&&e.push(t);return e};var v=e._hmr&&new e._hmr(p,d,r,t);d._cache=t,d.hmr=v&&v.wrap,d.brunch=!0,e.require=d}}(),function(){var e;window;require.register("js/app.js",function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=r("vue"),s=n(i),u=r("vue-router"),o=n(u),a=r("vuefire"),l=n(a),c=r("./components/index"),p=n(c),d=r("./components/group"),h=n(d);s["default"].use(o["default"]),s["default"].use(l["default"]);var f=[{path:"/",component:p["default"]},{path:"/:groupId",component:h["default"]}],m=new o["default"]({routes:f}),v=new s["default"]({router:m,data:{user:null},render:function(e){return e("router-view",{attrs:{user:this.user}},[])}});window.firebase.auth().onAuthStateChanged(function(e){v.user=e}),v.$mount("#app")}),require.register("js/components/group.js",function(e,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["user"],data:function(){return{group:null,members:{},membersList:[],userIsMember:!1,userIsOwner:!1}},created:function(){this.fetchData()},watch:{$route:"fetchData",user:"checkMembership"},computed:{membersList:function(){var e=this;return Object.keys(this.members).map(function(r){return e.members[r]})}},methods:{fetchData:function(){var e=this,r=this.$route.params.groupId;window.db.ref("groups").child(r).on("value",function(r){r.exists()&&(e.group=r.val(),e.userIsOwner=e.group.owner===e.user.uid)}),window.db.ref("members").child(r).on("value",function(r){e.members=r.val()})},checkMembership:function(){var e=this,r=this.$route.params.groupId;window.db.ref("members").child(r).child(this.user.uid).once("value",function(r){e.userIsMember=r.exists()})},join:function(){var e=this.$route.params.groupId;window.db.ref("members").child(e).child(this.user.uid).set({displayName:this.user.displayName,photoURL:this.user.photoURL})},drawMatches:function(){}},render:function(e){return e("main",null,[this.group?e("div",{"class":"group-info"},[e("h1",null,[e("router-link",{attrs:{to:"/"}},["Monito Monita"])]),e("div",{"class":"name"},[this.group.name])]):e("div",{"class":"spinner"},[]),this.membersList?e("ul",{"class":"group-members"},[this.membersList.map(function(r){return e("li",null,[e("img",{attrs:{src:r.photoURL}},[]),r.displayName])})]):null,e("div",{"class":"form-box"},[this.userIsMember?this.userIsOwner?e("button",{on:{click:this.drawMatches}},["Draw matches"]):e("div",null,["Wait for it..."]):e("button",{on:{click:this.join}},["Join"])])])}}}),require.register("js/components/index.js",function(e,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=window,i=n.firebase;e["default"]={props:["user"],data:function(){return{groupName:""}},methods:{login:function(){var e=new i.auth.FacebookAuthProvider;i.auth().signInWithPopup(e)},logout:function(e){e.preventDefault(),i.auth().signOut()},createGroup:function(){var e=window.db.ref("groups").push({name:this.groupName,owner:this.user.uid});window.db.ref("members").child(e.key).child(this.user.uid).set({displayName:this.user.displayName,photoURL:this.user.photoURL})}},render:function(e){var r=this;return e("main",null,[e("div",{"class":"intro-text"},[e("h1",null,["Monito Monita"]),e("p",null,["Monito Monita is what we call ",e("a",{attrs:{href:"https://en.wikipedia.org/wiki/Secret_Santa"}},["Secret Santa"])," in the Philippines"]),e("ol",{"class":"steps-list"},[e("li",null,["Create a group"]),e("li",null,["Invite your friends"]),e("li",null,["Match!"])]),e("p",null,[e("small",null,["Made by ",e("a",{attrs:{href:"https://marksteve.com"}},["marksteve"])])])]),this.user?e("div",{"class":"form-box"},[e("input",{attrs:{placeholder:"Group name",value:this.groupName},on:{input:function(e){r.groupName=e.target.value}}},[]),e("button",{on:{click:this.createGroup},attrs:{disabled:!this.groupName}},["Create group"]),e("small",null,["Logged in as ",this.user.displayName," â€” ",e("a",{attrs:{href:"#"},on:{click:this.logout}},["Logout"])])]):e("div",null,[e("button",{on:{click:this.login}},["Login with Facebook"])])])}}}),require.alias("process/browser.js","process"),e=require("process"),require.register("___globals___",function(e,r,t){})}(),require("___globals___");